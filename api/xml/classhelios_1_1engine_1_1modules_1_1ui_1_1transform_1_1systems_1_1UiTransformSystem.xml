<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="classhelios_1_1engine_1_1modules_1_1ui_1_1transform_1_1systems_1_1UiTransformSystem" kind="class" language="C++" prot="public">
    <compoundname>helios::engine::modules::ui::transform::systems::UiTransformSystem</compoundname>
    <basecompoundref refid="classhelios_1_1engine_1_1ecs_1_1System" prot="public" virt="non-virtual">helios::engine::ecs::System</basecompoundref>
    <sectiondef kind="private-func">
      <memberdef kind="function" id="classhelios_1_1engine_1_1modules_1_1ui_1_1transform_1_1systems_1_1UiTransformSystem_1ae5bd75c52d6c33bef07e22216539e62e" prot="private" static="no" const="no" explicit="no" inline="yes" virt="non-virtual">
        <type><ref refid="namespacehelios_1_1math_1a71f1e40e636f47229c3122bdb63099d5" kindref="member">helios::math::vec3f</ref></type>
        <definition>helios::math::vec3f helios::engine::modules::ui::transform::systems::UiTransformSystem::anchor</definition>
        <argsstring>(const helios::math::vec3f unanchored, helios::math::vec3f size, const helios::engine::modules::ui::layout::Anchor pivot)</argsstring>
        <name>anchor</name>
        <qualifiedname>helios::engine::modules::ui::transform::systems::UiTransformSystem::anchor</qualifiedname>
        <param>
          <type>const <ref refid="namespacehelios_1_1math_1a71f1e40e636f47229c3122bdb63099d5" kindref="member">helios::math::vec3f</ref></type>
          <declname>unanchored</declname>
        </param>
        <param>
          <type><ref refid="namespacehelios_1_1math_1a71f1e40e636f47229c3122bdb63099d5" kindref="member">helios::math::vec3f</ref></type>
          <declname>size</declname>
        </param>
        <param>
          <type>const <ref refid="namespacehelios_1_1engine_1_1modules_1_1ui_1_1layout_1a858f90f428368a1ead0dd663f2826258" kindref="member">helios::engine::modules::ui::layout::Anchor</ref></type>
          <declname>pivot</declname>
        </param>
        <briefdescription>
<para>Adjusts position based on pivot point and element size. </para>
        </briefdescription>
        <detaileddescription>
<para>Transforms a position from anchor-relative to pivot-relative coordinates. The pivot determines which point of the element is placed at the anchor position.</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>unanchored</parametername>
</parameternamelist>
<parameterdescription>
<para>The position before pivot adjustment. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>size</parametername>
</parameternamelist>
<parameterdescription>
<para>The size of the element. </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>pivot</parametername>
</parameternamelist>
<parameterdescription>
<para>The pivot point to apply.</para>
</parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>The adjusted position accounting for pivot offset. </para>
</simplesect>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/tmp/h/include/helios/engine/modules/ui/transform/systems/UiTransformSystem.ixx" line="83" column="29" bodyfile="/tmp/h/include/helios/engine/modules/ui/transform/systems/UiTransformSystem.ixx" bodystart="83" bodyend="105"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="public-func">
      <memberdef kind="function" id="classhelios_1_1engine_1_1modules_1_1ui_1_1transform_1_1systems_1_1UiTransformSystem_1aaeb3aab4499b52957bea4b123bcd2496" prot="public" static="no" const="no" explicit="no" inline="yes" noexcept="yes" virt="virtual">
        <type>void</type>
        <definition>void helios::engine::modules::ui::transform::systems::UiTransformSystem::update</definition>
        <argsstring>(helios::engine::runtime::world::UpdateContext &amp;updateContext) noexcept override</argsstring>
        <name>update</name>
        <qualifiedname>helios::engine::modules::ui::transform::systems::UiTransformSystem::update</qualifiedname>
        <reimplements refid="classhelios_1_1engine_1_1ecs_1_1System_1a4e9969641985fa04db6214332c88605b">update</reimplements>
        <param>
          <type><ref refid="structhelios_1_1engine_1_1runtime_1_1world_1_1UpdateContext" kindref="compound">helios::engine::runtime::world::UpdateContext</ref> &amp;</type>
          <declname>updateContext</declname>
        </param>
        <briefdescription>
<para>Computes and applies screen positions for all UI elements. </para>
        </briefdescription>
        <detaileddescription>
<para>Iterates over all entities with UI layout components and computes their final screen positions. For each entity:</para>
<para>1. Finds the matching viewport snapshot by viewportId 2. Determines parent bounds (viewport for root, parent AABB otherwise) 3. Computes anchor position based on anchor type and offsets 4. Adjusts for pivot point 5. Updates TranslationStateComponent with final position</para>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>updateContext</parametername>
</parameternamelist>
<parameterdescription>
<para>The current frame&apos;s update context. </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/tmp/h/include/helios/engine/modules/ui/transform/systems/UiTransformSystem.ixx" line="123" column="14" bodyfile="/tmp/h/include/helios/engine/modules/ui/transform/systems/UiTransformSystem.ixx" bodystart="123" bodyend="252"/>
        <references refid="namespacehelios_1_1engine_1_1modules_1_1ui_1_1layout_1a858f90f428368a1ead0dd663f2826258a98e5a1c44509157ebcaf46c515c78875" compoundref="Anchor_8ixx" startline="34">helios::engine::modules::ui::layout::BottomLeft</references>
        <references refid="namespacehelios_1_1engine_1_1modules_1_1ui_1_1layout_1a858f90f428368a1ead0dd663f2826258a4f1f6016fc9f3f2353c0cc7c67b292bd" compoundref="Anchor_8ixx" startline="24">helios::engine::modules::ui::layout::Center</references>
        <references refid="classhelios_1_1engine_1_1ecs_1_1System_1a1b71da2e3fb9d2effca00a1ecdfca1f5" compoundref="System_8ixx" startline="48">helios::engine::ecs::System::gameWorld_</references>
        <references refid="namespacehelios_1_1engine_1_1modules_1_1ui_1_1layout_1a858f90f428368a1ead0dd663f2826258ab32beb056fbfe36afbabc6c88c81ab36" compoundref="Anchor_8ixx" startline="39">helios::engine::modules::ui::layout::TopLeft</references>
        <references refid="namespacehelios_1_1engine_1_1modules_1_1ui_1_1layout_1a858f90f428368a1ead0dd663f2826258a1d85a557894c340c318493f33bfa8efb" compoundref="Anchor_8ixx" startline="29">helios::engine::modules::ui::layout::TopRight</references>
      </memberdef>
    </sectiondef>
    <briefdescription>
<para>Computes screen positions for UI elements based on layout configuration. </para>
    </briefdescription>
    <detaileddescription>
<para>This system processes entities with UiTransformComponent and computes their final screen positions. The positioning algorithm considers:</para>
<para><itemizedlist>
<listitem><para>**Anchor:** Where the element attaches to its parent (Center, TopLeft, etc.)</para>
</listitem><listitem><para>**Pivot:** The element&apos;s own reference point for positioning</para>
</listitem><listitem><para>**Offsets:** Margins from the anchor point (top, right, bottom, left)</para>
</listitem><listitem><para>**Viewport:** Current viewport dimensions for root-level elements</para>
</listitem><listitem><para>**Parent bounds:** For nested UI elements via HierarchyComponent</para>
</listitem></itemizedlist>
</para>
<para>## Hierarchy Support</para>
<para>For elements with a HierarchyComponent, the system uses the parent entity&apos;s AABB and transform to compute relative positioning. Root elements (those attached to the scene root) use viewport dimensions as their parent bounds.</para>
<para>## Required Components</para>
<para>| Component | Purpose | |-----------|---------| | `UiTransformComponent` | Layout configuration (anchor, pivot, offsets) | | `TranslationStateComponent` | Receives computed position | | `ComposeTransformComponent` | Transform composition | | `ModelAabbComponent` | Element bounds for size calculations | | `SceneNodeComponent` | Scene graph integration | | `Active` | Lifecycle tag |</para>
<para><simplesect kind="see"><para>UiTransformComponent </para>
</simplesect>
<simplesect kind="see"><para>Anchor </para>
</simplesect>
<simplesect kind="see"><para>HierarchyComponent </para>
</simplesect>
</para>
    </detaileddescription>
    <inheritancegraph>
      <node id="2">
        <label>helios::engine::ecs::System</label>
        <link refid="classhelios_1_1engine_1_1ecs_1_1System"/>
        <childnode refid="3" relation="public-inheritance">
        </childnode>
      </node>
      <node id="3">
        <label>helios::engine::ecs::Updatable</label>
        <link refid="classhelios_1_1engine_1_1ecs_1_1Updatable"/>
      </node>
      <node id="1">
        <label>helios::engine::modules::ui::transform::systems::UiTransformSystem</label>
        <link refid="classhelios_1_1engine_1_1modules_1_1ui_1_1transform_1_1systems_1_1UiTransformSystem"/>
        <childnode refid="2" relation="public-inheritance">
        </childnode>
      </node>
    </inheritancegraph>
    <collaborationgraph>
      <node id="12">
        <label>helios::engine::ecs::EntityManager</label>
        <link refid="classhelios_1_1engine_1_1ecs_1_1EntityManager"/>
      </node>
      <node id="11">
        <label>helios::engine::ecs::EntityRegistry</label>
        <link refid="classhelios_1_1engine_1_1ecs_1_1EntityRegistry"/>
      </node>
      <node id="2">
        <label>helios::engine::ecs::System</label>
        <link refid="classhelios_1_1engine_1_1ecs_1_1System"/>
        <childnode refid="3" relation="public-inheritance">
        </childnode>
        <childnode refid="4" relation="usage">
          <edgelabel>gameWorld_</edgelabel>
        </childnode>
      </node>
      <node id="3">
        <label>helios::engine::ecs::Updatable</label>
        <link refid="classhelios_1_1engine_1_1ecs_1_1Updatable"/>
      </node>
      <node id="7">
        <label>helios::engine::mechanics::gamestate::GameStateCommandHandler</label>
        <link refid="classhelios_1_1engine_1_1mechanics_1_1gamestate_1_1GameStateCommandHandler"/>
      </node>
      <node id="8">
        <label>helios::engine::mechanics::match::MatchStateCommandHandler</label>
        <link refid="classhelios_1_1engine_1_1mechanics_1_1match_1_1MatchStateCommandHandler"/>
      </node>
      <node id="6">
        <label>helios::engine::mechanics::scoring::ScoreCommandHandler</label>
        <link refid="classhelios_1_1engine_1_1mechanics_1_1scoring_1_1ScoreCommandHandler"/>
      </node>
      <node id="9">
        <label>helios::engine::modules::ui::UiActionCommandHandler</label>
        <link refid="classhelios_1_1engine_1_1modules_1_1ui_1_1UiActionCommandHandler"/>
      </node>
      <node id="1">
        <label>helios::engine::modules::ui::transform::systems::UiTransformSystem</label>
        <link refid="classhelios_1_1engine_1_1modules_1_1ui_1_1transform_1_1systems_1_1UiTransformSystem"/>
        <childnode refid="2" relation="public-inheritance">
        </childnode>
      </node>
      <node id="10">
        <label>helios::engine::runtime::spawn::SpawnCommandHandlerRegistry</label>
        <link refid="classhelios_1_1engine_1_1runtime_1_1spawn_1_1SpawnCommandHandlerRegistry"/>
      </node>
      <node id="4">
        <label>helios::engine::runtime::world::GameWorld</label>
        <link refid="classhelios_1_1engine_1_1runtime_1_1world_1_1GameWorld"/>
        <childnode refid="5" relation="usage">
          <edgelabel>logger_</edgelabel>
        </childnode>
        <childnode refid="6" relation="usage">
          <edgelabel>scoreCommandHandler_</edgelabel>
        </childnode>
        <childnode refid="7" relation="usage">
          <edgelabel>gameStateCommandHandler_</edgelabel>
        </childnode>
        <childnode refid="8" relation="usage">
          <edgelabel>matchStateCommandHandler_</edgelabel>
        </childnode>
        <childnode refid="9" relation="usage">
          <edgelabel>uiActionCommandHandler_</edgelabel>
        </childnode>
        <childnode refid="10" relation="usage">
          <edgelabel>spawnCommandHandlerRegistry_</edgelabel>
        </childnode>
        <childnode refid="11" relation="usage">
          <edgelabel>entityRegistry_</edgelabel>
        </childnode>
        <childnode refid="12" relation="usage">
          <edgelabel>em_</edgelabel>
        </childnode>
        <childnode refid="13" relation="usage">
          <edgelabel>session_</edgelabel>
        </childnode>
      </node>
      <node id="13">
        <label>helios::engine::runtime::world::Session</label>
        <link refid="classhelios_1_1engine_1_1runtime_1_1world_1_1Session"/>
      </node>
      <node id="5">
        <label>helios::util::log::Logger</label>
        <link refid="classhelios_1_1util_1_1log_1_1Logger"/>
      </node>
    </collaborationgraph>
    <location file="/tmp/h/include/helios/engine/modules/ui/transform/systems/UiTransformSystem.ixx" line="68" column="5" bodyfile="/tmp/h/include/helios/engine/modules/ui/transform/systems/UiTransformSystem.ixx" bodystart="68" bodyend="253"/>
    <listofallmembers>
      <member refid="classhelios_1_1engine_1_1modules_1_1ui_1_1transform_1_1systems_1_1UiTransformSystem_1ae5bd75c52d6c33bef07e22216539e62e" prot="private" virt="non-virtual"><scope>helios::engine::modules::ui::transform::systems::UiTransformSystem</scope><name>anchor</name></member>
      <member refid="classhelios_1_1engine_1_1ecs_1_1System_1a1b71da2e3fb9d2effca00a1ecdfca1f5" prot="protected" virt="non-virtual"><scope>helios::engine::modules::ui::transform::systems::UiTransformSystem</scope><name>gameWorld_</name></member>
      <member refid="classhelios_1_1engine_1_1ecs_1_1System_1ae0464c1668e257439243a4f25979a7ff" prot="public" virt="virtual"><scope>helios::engine::modules::ui::transform::systems::UiTransformSystem</scope><name>init</name></member>
      <member refid="classhelios_1_1engine_1_1ecs_1_1Updatable_1a26d81abcda05fe8b12a1ddb4ed6099a3" prot="public" virt="non-virtual"><scope>helios::engine::modules::ui::transform::systems::UiTransformSystem</scope><name>Updatable</name></member>
      <member refid="classhelios_1_1engine_1_1modules_1_1ui_1_1transform_1_1systems_1_1UiTransformSystem_1aaeb3aab4499b52957bea4b123bcd2496" prot="public" virt="virtual"><scope>helios::engine::modules::ui::transform::systems::UiTransformSystem</scope><name>update</name></member>
      <member refid="classhelios_1_1engine_1_1ecs_1_1System_1a937c99bfacd777c53e0f811ab9d335a6" prot="public" virt="virtual"><scope>helios::engine::modules::ui::transform::systems::UiTransformSystem</scope><name>~System</name></member>
      <member refid="classhelios_1_1engine_1_1ecs_1_1Updatable_1a0f54f92a2a8d6c8dc2fc2ebed41d5a85" prot="public" virt="virtual"><scope>helios::engine::modules::ui::transform::systems::UiTransformSystem</scope><name>~Updatable</name></member>
    </listofallmembers>
  </compounddef>
</doxygen>
