<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.15.0" xml:lang="en-US">
  <compounddef id="dir_7930a9f2b08fecfe51e4aed0db65671b" kind="dir">
    <compoundname>scheduling</compoundname>
    <innerfile refid="helios_2engine_2runtime_2spawn_2scheduling_2__module_8ixx">helios/engine/runtime/spawn/scheduling/_module.ixx</innerfile>
    <innerfile refid="CyclicSpawnScheduler_8ixx">CyclicSpawnScheduler.ixx</innerfile>
    <innerfile refid="DefaultRuleProcessor_8ixx">DefaultRuleProcessor.ixx</innerfile>
    <innerfile refid="DefaultSpawnScheduler_8ixx">DefaultSpawnScheduler.ixx</innerfile>
    <innerfile refid="RuleProcessor_8ixx">RuleProcessor.ixx</innerfile>
    <innerfile refid="ScheduledSpawnPlan_8ixx">ScheduledSpawnPlan.ixx</innerfile>
    <innerfile refid="SpawnPlan_8ixx">SpawnPlan.ixx</innerfile>
    <innerfile refid="SpawnScheduler_8ixx">SpawnScheduler.ixx</innerfile>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<sect1 id="dir_7930a9f2b08fecfe51e4aed0db65671b_1autotoc_md544">
<title>helios::engine::runtime::spawn::scheduling</title><para>Spawn scheduling and plan management.</para>
</sect1>
<sect1 id="dir_7930a9f2b08fecfe51e4aed0db65671b_1autotoc_md545">
<title>Overview</title><para>This module provides the scheduling layer for the spawn system. Schedulers evaluate spawn rules and produce ScheduledSpawnPlan instances that are processed by the command pipeline. The architecture separates scheduling strategies from rule processing logic.</para>
</sect1>
<sect1 id="dir_7930a9f2b08fecfe51e4aed0db65671b_1autotoc_md546">
<title>Key Classes</title><para><table rows="9" cols="2"><row>
<entry thead="yes"><para>Class  </para>
</entry><entry thead="yes"><para>Purpose  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>SpawnScheduler</computeroutput>  </para>
</entry><entry thead="no"><para>Abstract base class defining the scheduler interface  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>DefaultSpawnScheduler</computeroutput>  </para>
</entry><entry thead="no"><para>Evaluates all rules every frame  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>CyclicSpawnScheduler&lt;N&gt;</computeroutput>  </para>
</entry><entry thead="no"><para>Round-robin evaluation, advances on successful spawn  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>RuleProcessor</computeroutput>  </para>
</entry><entry thead="no"><para>Abstract interface for rule evaluation logic  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>DefaultRuleProcessor</computeroutput>  </para>
</entry><entry thead="no"><para>Standard rule processing implementation  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>SpawnPlan</computeroutput>  </para>
</entry><entry thead="no"><para>Data describing a planned spawn (rule, amount)  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>ScheduledSpawnPlan</computeroutput>  </para>
</entry><entry thead="no"><para>A plan paired with profile ID and context  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput>RuleConfig</computeroutput>  </para>
</entry><entry thead="no"><para>Configuration pairing profile ID with a rule  </para>
</entry></row>
</table>
</para>
</sect1>
<sect1 id="dir_7930a9f2b08fecfe51e4aed0db65671b_1autotoc_md547">
<title>Architecture</title><para><programlisting><codeline><highlight class="normal">┌─────────────────────────────────────────────────────────────────────────┐</highlight></codeline>
<codeline><highlight class="normal">│<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SpawnScheduler<sp/>(abstract)<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal">│<sp/><sp/>┌───────────────────────────────────────────────────────────────────┐<sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal">│<sp/><sp/>│<sp/>evaluate()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>→<sp/>Process<sp/>rules,<sp/>produce<sp/>plans<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal">│<sp/><sp/>│<sp/>drainScheduledPlans()<sp/>→<sp/>Return<sp/>and<sp/>clear<sp/>pending<sp/>plans<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal">│<sp/><sp/>│<sp/>commit()<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>→<sp/>Update<sp/>rule<sp/>state<sp/>after<sp/>spawn<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal">│<sp/><sp/>└───────────────────────────────────────────────────────────────────┘<sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal">└─────────────────────────────────────────────────────────────────────────┘</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>┌───────────┴────────────┐<sp/><sp/><sp/><sp/><sp/><sp/><sp/>┌───────────┴────────────┐</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/>DefaultSpawnScheduler<sp/>│<sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/>CyclicSpawnScheduler<sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/>(all<sp/>rules/frame)<sp/><sp/><sp/><sp/><sp/>│<sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/>(advance<sp/>on<sp/>success)<sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>└───────────┬────────────┘<sp/><sp/><sp/><sp/><sp/><sp/><sp/>└───────────┬────────────┘</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>└───────────┬────────────────────┘</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>┌───────────┴────────────┐</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/><sp/>DefaultRuleProcessor<sp/>│</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>│<sp/><sp/><sp/>(shared<sp/>logic)<sp/><sp/><sp/><sp/><sp/><sp/><sp/>│</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>└────────────────────────┘</highlight></codeline>
</programlisting></para>
</sect1>
<sect1 id="dir_7930a9f2b08fecfe51e4aed0db65671b_1autotoc_md548">
<title>Scheduler Strategies</title><sect2 id="dir_7930a9f2b08fecfe51e4aed0db65671b_1autotoc_md549">
<title>DefaultSpawnScheduler</title><para>Evaluates <bold>all registered rules</bold> every frame. Best for independent spawn sources that should trigger simultaneously.</para>
<para><programlisting filename=".cpp"><codeline><highlight class="normal">DefaultSpawnScheduler<sp/>scheduler;</highlight></codeline>
<codeline><highlight class="normal">scheduler</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>.addRule(enemyProfileId,<sp/>std::make_unique&lt;TimerSpawnRule&gt;(ruleA,<sp/>2.0f,<sp/>3))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>.addRule(pickupProfileId,<sp/>std::make_unique&lt;TimerSpawnRule&gt;(ruleB,<sp/>5.0f,<sp/>1));</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>Both<sp/>rules<sp/>evaluated<sp/>each<sp/>frame</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">scheduler.evaluate(updateContext,<sp/>spawnContext);</highlight></codeline>
</programlisting></para>
</sect2>
<sect2 id="dir_7930a9f2b08fecfe51e4aed0db65671b_1autotoc_md550">
<title>CyclicSpawnScheduler</title><para>Evaluates the <bold>current rule</bold> each frame and advances to the next rule <bold>only after a spawn was successfull committed</bold>. The same rule is re-evaluated until its conditions are met. Best for sequential wave patterns where each wave must complete before the next begins.</para>
<para><programlisting filename=".cpp"><codeline><highlight class="normal">CyclicSpawnScheduler&lt;3&gt;<sp/>scheduler;</highlight></codeline>
<codeline><highlight class="normal">scheduler</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>.addRule(wave1ProfileId,<sp/>std::make_unique&lt;TimerSpawnRule&gt;(rule1,<sp/>1.0f,<sp/>5))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>.addRule(wave2ProfileId,<sp/>std::make_unique&lt;TimerSpawnRule&gt;(rule2,<sp/>1.0f,<sp/>5))</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>.addRule(bossProfileId,<sp/>std::make_unique&lt;TimerSpawnRule&gt;(rule3,<sp/>2.0f,<sp/>1));</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>Evaluates<sp/>wave1<sp/>until<sp/>spawn<sp/>occurs,<sp/>then<sp/>advances<sp/>to<sp/>wave2,<sp/>etc.</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="comment">//<sp/>Cycle:<sp/>Wave1<sp/>→<sp/>Wave2<sp/>→<sp/>Boss<sp/>→<sp/>Wave1<sp/>→<sp/>...</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal">scheduler.evaluate(updateContext,<sp/>spawnContext);</highlight></codeline>
</programlisting></para>
</sect2>
</sect1>
<sect1 id="dir_7930a9f2b08fecfe51e4aed0db65671b_1autotoc_md551">
<title>Workflow</title><para><programlisting><codeline><highlight class="normal">SpawnRule::evaluate()<sp/>→<sp/>SpawnPlan<sp/>→<sp/>ScheduledSpawnPlan<sp/>→<sp/>Command<sp/>→<sp/>SpawnManager</highlight></codeline>
</programlisting></para>
<para>1. <bold>Registration:</bold> Rules added via <computeroutput>addRule()</computeroutput> with profile IDs 2. <bold>Evaluation:</bold> <computeroutput>evaluate()</computeroutput> called each frame by GameObjectSpawnSystem 3. <bold>Processing:</bold> RuleProcessor evaluates rules, updates state 4. <bold>Scheduling:</bold> Rules that pass produce ScheduledSpawnPlans 5. <bold>Draining:</bold> <computeroutput>drainScheduledPlans()</computeroutput> returns pending plans 6. <bold>Commit:</bold> <computeroutput>commit()</computeroutput> called after spawns to update rule state</para>
</sect1>
<sect1 id="dir_7930a9f2b08fecfe51e4aed0db65671b_1autotoc_md552">
<title>Rule Processing</title><para>The <computeroutput>RuleProcessor</computeroutput> abstraction separates evaluation logic from scheduling strategy:</para>
<para><programlisting filename=".cpp"><codeline><highlight class="keyword">class<sp/></highlight><highlight class="normal">RuleProcessor<sp/>{</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keyword">public</highlight><highlight class="normal">:</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">virtual</highlight><highlight class="normal"><sp/>SpawnPlan<sp/>processRule(</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>UpdateContext&amp;<sp/>updateContext,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">const</highlight><highlight class="normal"><sp/>SpawnContext&amp;<sp/>spawnContext,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SpawnProfileId<sp/>spawnProfileId,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SpawnRule&amp;<sp/>spawnRule,</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>SpawnRuleState&amp;<sp/>spawnRuleState</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/>)<sp/></highlight><highlight class="keyword">noexcept</highlight><highlight class="normal"><sp/>=<sp/>0;</highlight></codeline>
<codeline><highlight class="normal">};</highlight></codeline>
</programlisting></para>
<para><computeroutput>DefaultRuleProcessor</computeroutput> provides the standard implementation: 1. Retrieve pool snapshot from GameObjectPoolManager 2. Update rule state with delta time 3. Evaluate rule conditions 4. Return SpawnPlan with spawn amount</para>
</sect1>
<sect1 id="dir_7930a9f2b08fecfe51e4aed0db65671b_1autotoc_md553">
<title>Related Modules</title><para><table rows="4" cols="2"><row>
<entry thead="yes"><para>Module  </para>
</entry><entry thead="yes"><para>Purpose  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput><ref refid="namespacehelios_1_1engine_1_1runtime_1_1spawn_1_1policy" kindref="compound">helios.engine.runtime.spawn.policy</ref></computeroutput>  </para>
</entry><entry thead="no"><para>SpawnRule implementations  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput><ref refid="namespacehelios_1_1engine_1_1runtime_1_1spawn" kindref="compound">helios.engine.runtime.spawn</ref></computeroutput>  </para>
</entry><entry thead="no"><para>SpawnManager, SpawnProfile  </para>
</entry></row>
<row>
<entry thead="no"><para><computeroutput><ref refid="namespacehelios_1_1engine_1_1runtime_1_1pooling" kindref="compound">helios.engine.runtime.pooling</ref></computeroutput>  </para>
</entry><entry thead="no"><para>GameObjectPoolManager  </para>
</entry></row>
</table>
</para>
<para><hruler/>
 <details><summary>Doxygen</summary><para></para>
<para></para>
</details></para>
</sect1>
    </detaileddescription>
    <location file="/tmp/h/include/helios/engine/runtime/spawn/scheduling/"/>
  </compounddef>
</doxygen>
