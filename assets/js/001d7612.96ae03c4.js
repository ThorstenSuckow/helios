"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[19162],{28453:(e,n,i)=>{i.d(n,{R:()=>s,x:()=>c});var t=i(96540);const r={},o=t.createContext(r);function s(e){const n=t.useContext(o);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:s(e.components),t.createElement(o.Provider,{value:n},e.children)}},55369:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"core-concepts/gameobject-builder","title":"GameObject Builder","description":"Fluent builder pattern for constructing GameObjects with their associated components.","source":"@site/docs/core-concepts/gameobject-builder.md","sourceDirName":"core-concepts","slug":"/core-concepts/gameobject-builder","permalink":"/docs/core-concepts/gameobject-builder","draft":false,"unlisted":false,"editUrl":"https://github.com/thorstensuckow/helios/tree/main/website/docs/core-concepts/gameobject-builder.md","tags":[{"inline":true,"label":"gameplay","permalink":"/docs/tags/gameplay"},{"inline":true,"label":"architecture","permalink":"/docs/tags/architecture"},{"inline":true,"label":"builder","permalink":"/docs/tags/builder"}],"version":"current","sidebarPosition":9,"frontMatter":{"title":"GameObject Builder","description":"Fluent builder pattern for constructing GameObjects with their associated components.","slug":"/core-concepts/gameobject-builder","sidebar_label":"GameObject Builder","sidebar_position":9,"tags":["gameplay","architecture","builder"],"keywords":["helios","builder pattern","GameObjectFactory","fluent API","entity construction"]},"sidebar":"tutorialSidebar","previous":{"title":"State Management","permalink":"/docs/core-concepts/state-management"},"next":{"title":"Command System","permalink":"/docs/core-concepts/command-system"}}');var r=i(74848),o=i(28453);const s={title:"GameObject Builder",description:"Fluent builder pattern for constructing GameObjects with their associated components.",slug:"/core-concepts/gameobject-builder",sidebar_label:"GameObject Builder",sidebar_position:9,tags:["gameplay","architecture","builder"],keywords:["helios","builder pattern","GameObjectFactory","fluent API","entity construction"]},c="GameObject Builder",d={},l=[{value:"Overview",id:"overview",level:2},{value:"Architecture",id:"architecture",level:2},{value:"GameObjectFactory",id:"gameobjectfactory",level:3},{value:"GameObjectPrototype",id:"gameobjectprototype",level:3},{value:"Domain Builders",id:"domain-builders",level:3},{value:"Config Classes",id:"config-classes",level:3},{value:"Creating Entities",id:"creating-entities",level:2},{value:"Basic Entity",id:"basic-entity",level:3},{value:"Complex Entity",id:"complex-entity",level:3},{value:"Cloning Entities",id:"cloning-entities",level:2},{value:"Cloning Behavior",id:"cloning-behavior",level:3},{value:"Automatic Dependencies",id:"automatic-dependencies",level:2},{value:"Design Principles",id:"design-principles",level:2},{value:"Why Callbacks Instead of done()-Chaining?",id:"why-callbacks-instead-of-done-chaining",level:3},{value:"Related Modules",id:"related-modules",level:2},{value:"Related Concepts",id:"related-concepts",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"gameobject-builder",children:"GameObject Builder"})}),"\n",(0,r.jsxs)(n.p,{children:["helios provides a ",(0,r.jsx)(n.strong,{children:"fluent builder pattern"})," for constructing GameObjects with their associated components. The builder API enables clean, readable entity construction while abstracting component dependencies and initialization order."]}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"The traditional approach of manually adding components can become verbose:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"// Manual approach - verbose and repetitive\nauto entity = gameWorld.addGameObject();\nentity.add<Move2DComponent>(5.0f, 10.0f);\nentity.add<ComposeTransformComponent>();\nentity.add<DirectionComponent>();\nentity.add<TranslationStateComponent>();\n// ... more configuration\n"})}),"\n",(0,r.jsx)(n.p,{children:"The builder pattern provides a cleaner alternative:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"// Builder approach - fluent and composable\nauto player = GameObjectFactory::gameObject(gameWorld)\n    .withMotion([](auto& motion) {\n        motion.move2D()\n              .speed(5.0f)\n              .acceleration(10.0f);\n    })\n    .make(true);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,r.jsx)(n.p,{children:"The builder system is organized into three layers:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{children:"\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                     GameObjectFactory                           \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502\n\u2502  \u2502                  GameObjectPrototype                      \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502  \u2502\n\u2502  \u2502  \u2502MotionBuilder\u2502  \u2502RenderingBld \u2502  \u2502CollisionBld \u2502  ...   \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502  \u2502\n\u2502  \u2502         \u2502                \u2502                \u2502               \u2502  \u2502\n\u2502  \u2502         \u25bc                \u25bc                \u25bc               \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510        \u2502  \u2502\n\u2502  \u2502  \u2502 Move2DConfig\u2502  \u2502RenderableCfg\u2502  \u2502CollisionCfg \u2502  ...   \u2502  \u2502\n\u2502  \u2502  \u2502SteeringCfg  \u2502  \u2502SceneNodeCfg \u2502  \u2502LevelBndsCfg \u2502        \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2518        \u2502  \u2502\n\u2502  \u2502         \u2502                \u2502                \u2502               \u2502  \u2502\n\u2502  \u2502         \u25bc                \u25bc                \u25bc               \u2502  \u2502\n\u2502  \u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u2502  \u2502\n\u2502  \u2502  \u2502                    GameObject                       \u2502  \u2502  \u2502\n\u2502  \u2502  \u2502  [Move2DComponent] [RenderableComponent] [...]      \u2502  \u2502  \u2502\n\u2502  \u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502  \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(n.h3,{id:"gameobjectfactory",children:"GameObjectFactory"}),"\n",(0,r.jsx)(n.p,{children:"The entry point for entity construction. Requires a GameWorld reference."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"import helios.engine.builder;\n\n// Create a new entity via the GameWorld\nauto prototype = GameObjectFactory::gameObject(gameWorld);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"gameobjectprototype",children:"GameObjectPrototype"}),"\n",(0,r.jsx)(n.p,{children:"The fluent builder returned by the factory. Holds domain-specific builders and provides callback-based configuration methods."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"prototype\n    .withMotion([](MotionBuilder& b) { /* ... */ })\n    .withRendering([](RenderingBuilder& b) { /* ... */ })\n    .withCollision([](CollisionBuilder& b) { /* ... */ })\n    .withTransform([](TransformBuilder& b) { /* ... */ })\n    .withEffects([](EffectsBuilder& b) { /* ... */ })\n    .withSpawn([](SpawnBuilder& b) { /* ... */ })\n    .withAi([](AiBuilder& b) { /* ... */ })\n    .withCombat([](CombatBuilder& b) { /* ... */ })\n    .withHealth([](HealthBuilder& b) { /* ... */ })\n    .withScoring([](ScoringBuilder& b) { /* ... */ })\n    .withLifecycle([](LifecycleBuilder& b) { /* ... */ })\n    .make(active);  // Returns GameObject (by value)\n"})}),"\n",(0,r.jsx)(n.h3,{id:"domain-builders",children:"Domain Builders"}),"\n",(0,r.jsx)(n.p,{children:"Each builder encapsulates configuration for a specific domain:"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Builder"}),(0,r.jsx)(n.th,{children:"Domain"}),(0,r.jsx)(n.th,{children:"Configs Provided"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"MotionBuilder"})}),(0,r.jsx)(n.td,{children:"Movement"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Move2DConfig"}),", ",(0,r.jsx)(n.code,{children:"SteeringConfig"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RenderingBuilder"})}),(0,r.jsx)(n.td,{children:"Visuals"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"MeshRenderableConfig"}),", ",(0,r.jsx)(n.code,{children:"TextRenderableConfig"}),", ",(0,r.jsx)(n.code,{children:"SceneNodeConfig"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SceneBuilder"})}),(0,r.jsx)(n.td,{children:"Scene Graph"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SceneNodeConfig"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CollisionBuilder"})}),(0,r.jsx)(n.td,{children:"Physics"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"CollisionConfig"}),", ",(0,r.jsx)(n.code,{children:"LevelBoundsCollisionConfig"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TransformBuilder"})}),(0,r.jsx)(n.td,{children:"Spatial"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"TransformConfig"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"UiTransformBuilder"})}),(0,r.jsx)(n.td,{children:"UI Layout"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"UiTransformConfig"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"EffectsBuilder"})}),(0,r.jsx)(n.td,{children:"VFX"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"GfxEffectsConfig"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SpawnBuilder"})}),(0,r.jsx)(n.td,{children:"Spawning"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SpawnConfig"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"AiBuilder"})}),(0,r.jsx)(n.td,{children:"AI"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ChaseConfig"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CombatBuilder"})}),(0,r.jsx)(n.td,{children:"Combat"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"WeaponConfig"}),", ",(0,r.jsx)(n.code,{children:"CombatConfig"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"HealthBuilder"})}),(0,r.jsx)(n.td,{children:"Health"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"HealthConfig"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ScoringBuilder"})}),(0,r.jsx)(n.td,{children:"Scoring"}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"ScoreValueConfig"}),", ",(0,r.jsx)(n.code,{children:"ScorePoolConfig"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LifecycleBuilder"})}),(0,r.jsx)(n.td,{children:"Lifecycle"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"LifecycleConfig"})})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ObserverBuilder"})}),(0,r.jsx)(n.td,{children:"Data Binding"}),(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"ObserverConfig"})})]})]})]}),"\n",(0,r.jsx)(n.h3,{id:"config-classes",children:"Config Classes"}),"\n",(0,r.jsx)(n.p,{children:"Fine-grained configuration objects that add and configure specific components:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"motion.move2D()           // Returns Move2DConfig\n      .speed(5.0f)        // Fluent method\n      .acceleration(10.0f);\n"})}),"\n",(0,r.jsxs)(n.p,{children:["Configs automatically handle component dependencies using ",(0,r.jsx)(n.code,{children:"getOrAdd()"}),", preventing duplicates when multiple configs share the same requirements."]}),"\n",(0,r.jsx)(n.h2,{id:"creating-entities",children:"Creating Entities"}),"\n",(0,r.jsx)(n.h3,{id:"basic-entity",children:"Basic Entity"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"auto bullet = GameObjectFactory::gameObject(gameWorld)\n    .withRendering([&](auto& r) {\n        r.meshRenderable()\n         .shape(circleShape)\n         .shader(shader)\n         .primitiveType(PrimitiveType::Triangles)\n         .color({1.0f, 1.0f, 0.0f, 1.0f})\n         .attachTo(rootNode);\n    })\n    .withMotion([](auto& m) {\n        m.move2D()\n         .speed(20.0f)\n         .instantAcceleration(true);\n    })\n    .make(true);\n"})}),"\n",(0,r.jsx)(n.h3,{id:"complex-entity",children:"Complex Entity"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"auto player = GameObjectFactory::gameObject(gameWorld)\n    .withMotion([](auto& motion) {\n        motion.move2D()\n              .speed(5.0f)\n              .acceleration(10.0f);\n        motion.steering()\n              .instantSteering(false)\n              .steeringSetsDirection(true);\n    })\n    .withRendering([&](auto& rendering) {\n        rendering.renderable()\n                 .shape(triangleShape)\n                 .shader(shader)\n                 .primitiveType(PrimitiveType::Triangles)\n                 .color({0.0f, 1.0f, 0.0f, 1.0f})\n                 .attachTo(rootNode);\n    })\n    .withCollision([](auto& collision) {\n        collision.collision()\n                 .useBoundingBox()\n                 .layerId(PLAYER_LAYER)\n                 .reportCollisions(true)\n                 .solidCollisionMask(ENEMY_LAYER | WALL_LAYER);\n        collision.levelBounds()\n                 .onCollision(CollisionBehavior::Clamp)\n                 .respondWith(CollisionResponse::Slide);\n    })\n    .withShooting([](auto& shooting) {\n        shooting.weapon()\n                .fireRate(0.1f);\n    })\n    .make(true);\n"})}),"\n",(0,r.jsx)(n.h2,{id:"cloning-entities",children:"Cloning Entities"}),"\n",(0,r.jsx)(n.p,{children:"The factory supports cloning for spawning multiple instances from a template:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-cpp",children:"// Create template once\nauto enemyTemplate = GameObjectFactory::gameObject()\n    .withRendering([&](auto& r) { /* ... */ })\n    .withMotion([](auto& m) { /* ... */ })\n    .withCollision([](auto& c) { /* ... */ })\n    .make(false);  // Template stays inactive\n\n// Clone for each spawn\nfor (int i = 0; i < 10; ++i) {\n    auto enemy = GameObjectFactory::from(enemyTemplate.get())\n        .withTransform([&](auto& t) {\n            t.transform().translate(spawnPositions[i]);\n        })\n        .make(true);\n    \n    world.addGameObject(std::move(enemy));\n}\n"})}),"\n",(0,r.jsx)(n.h3,{id:"cloning-behavior",children:"Cloning Behavior"}),"\n",(0,r.jsxs)(n.p,{children:["When cloning with ",(0,r.jsx)(n.code,{children:"GameObjectFactory::from()"}),":"]}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Only components implementing ",(0,r.jsx)(n.code,{children:"CloneableComponent"})," are copied"]}),"\n",(0,r.jsxs)(n.li,{children:["Each cloneable component's ",(0,r.jsx)(n.code,{children:"clone()"})," method is invoked"]}),"\n",(0,r.jsxs)(n.li,{children:["Additional configuration can be applied before ",(0,r.jsx)(n.code,{children:"make()"})]}),"\n",(0,r.jsxs)(n.li,{children:["Component dependencies are resolved via ",(0,r.jsx)(n.code,{children:"getOrAdd()"})," to prevent duplicates"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"automatic-dependencies",children:"Automatic Dependencies"}),"\n",(0,r.jsx)(n.p,{children:"Configs automatically add required dependent components. This prevents errors and ensures proper initialization order."}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Config"}),(0,r.jsx)(n.th,{children:"Automatically Adds"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"Move2DConfig"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"Move2DComponent"}),", ",(0,r.jsx)(n.code,{children:"ComposeTransformComponent"}),", ",(0,r.jsx)(n.code,{children:"DirectionComponent"}),", ",(0,r.jsx)(n.code,{children:"TranslationStateComponent"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SteeringConfig"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"SteeringComponent"}),", ",(0,r.jsx)(n.code,{children:"ComposeTransformComponent"}),", ",(0,r.jsx)(n.code,{children:"RotationStateComponent"}),", ",(0,r.jsx)(n.code,{children:"DirectionComponent"})]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"RenderableConfig"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"RenderableComponent"})," (mesh, material created internally)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"SceneNodeConfig"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"SceneNodeComponent"})," (creates and parents SceneNode)"]})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"CollisionConfig"})}),(0,r.jsxs)(n.td,{children:[(0,r.jsx)(n.code,{children:"CollisionStateComponent"}),", ",(0,r.jsx)(n.code,{children:"AabbColliderComponent"}),", ",(0,r.jsx)(n.code,{children:"CollisionComponent"})]})]})]})]}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"Example:"})," If both ",(0,r.jsx)(n.code,{children:"Move2DConfig"})," and ",(0,r.jsx)(n.code,{children:"SteeringConfig"})," are used, only one ",(0,r.jsx)(n.code,{children:"ComposeTransformComponent"})," and ",(0,r.jsx)(n.code,{children:"DirectionComponent"})," are created because both use ",(0,r.jsx)(n.code,{children:"getOrAdd()"}),"."]}),"\n",(0,r.jsx)(n.h2,{id:"design-principles",children:"Design Principles"}),"\n",(0,r.jsx)(n.p,{children:"The builder module follows these principles:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Fluent Interface"}),": Method chaining for readable configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Callback-Based Configuration"}),": Builders accessed via lambdas for scoped configuration"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Automatic Dependencies"}),": Configs handle required components automatically"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Separation of Concerns"}),": Each builder focuses on a single domain"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Cloning Support"}),": Template-based entity spawning with customization"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"why-callbacks-instead-of-done-chaining",children:"Why Callbacks Instead of done()-Chaining?"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"GameObjectFactory"})," uses ",(0,r.jsx)(n.strong,{children:"callbacks"})," (",(0,r.jsx)(n.code,{children:"withMotion([](auto&) { ... })"}),") rather than the done()-chaining pattern used by ",(0,r.jsx)(n.code,{children:"SpawnSystemFactory"}),". The rationale:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Flat domains"}),": Motion, collision, rendering are independent and equal - there is no parent-child hierarchy to express."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Scoped grouping"}),": The callback visually groups related configs (e.g., ",(0,r.jsx)(n.code,{children:"collision()"})," and ",(0,r.jsx)(n.code,{children:"levelBoundsCollision()"})," inside the same ",(0,r.jsx)(n.code,{children:"withCollision"})," block)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"External captures"}),": Callbacks naturally capture external state (",(0,r.jsx)(n.code,{children:"[&shader, &root]"}),"), which would require parameter threading in done()-chaining."]}),"\n"]}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"SpawnSystemFactory"})," uses done()-chaining because its configuration has a natural ",(0,r.jsx)(n.strong,{children:"tree structure"})," (pool \u2192 profile \u2192 rule). See ",(0,r.jsx)(n.a,{href:"/docs/core-concepts/spawn-system#spawnsystemfactory-builder",children:"Spawn System"})," for details."]}),"\n",(0,r.jsx)(n.h2,{id:"related-modules",children:"Related Modules"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,r.jsxs)(n.table,{children:[(0,r.jsx)(n.thead,{children:(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.th,{children:"Module"}),(0,r.jsx)(n.th,{children:"Purpose"})]})}),(0,r.jsxs)(n.tbody,{children:[(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"helios.engine.ecs"})}),(0,r.jsx)(n.td,{children:"GameObject, Component, CloneableComponent"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"helios.engine.modules"})}),(0,r.jsx)(n.td,{children:"Component implementations"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"helios.engine.mechanics"})}),(0,r.jsx)(n.td,{children:"Gameplay-specific components"})]}),(0,r.jsxs)(n.tr,{children:[(0,r.jsx)(n.td,{children:(0,r.jsx)(n.code,{children:"helios.engine.runtime.world"})}),(0,r.jsx)(n.td,{children:"GameWorld entity management"})]})]})]}),"\n",(0,r.jsx)(n.h2,{id:"related-concepts",children:"Related Concepts"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/core-concepts/component-system",children:"Component System"})," - Understanding Components and Systems"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/core-concepts/spawn-system",children:"Spawn System"})," - Spawn scheduling, profiles, and the SpawnSystemFactory builder"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/core-concepts/object-pooling",children:"Object Pooling"})," - Pool lifecycle for spawned entities"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.a,{href:"/docs/core-concepts/conventions",children:"Conventions"})," - Units and coordinate systems"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}}}]);