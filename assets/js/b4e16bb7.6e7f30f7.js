"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[88522],{28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>s});var r=t(96540);const i={},a=r.createContext(i);function o(e){const n=r.useContext(a);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(a.Provider,{value:n},e.children)}},31902:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>s,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"examples/render-text-demo","title":"Text Rendering Demo","description":"Example: FreeType-based text rendering with dynamic updates, font loading, and orthographic projection.","source":"@site/docs/examples/render-text-demo.md","sourceDirName":"examples","slug":"/examples/render-text-demo","permalink":"/docs/examples/render-text-demo","draft":false,"unlisted":false,"editUrl":"https://github.com/thorstensuckow/helios/tree/main/website/docs/examples/render-text-demo.md","tags":[{"inline":true,"label":"examples","permalink":"/docs/tags/examples"},{"inline":true,"label":"text","permalink":"/docs/tags/text"},{"inline":true,"label":"rendering","permalink":"/docs/tags/rendering"},{"inline":true,"label":"freetype","permalink":"/docs/tags/freetype"}],"version":"current","frontMatter":{"title":"Text Rendering Demo","description":"Example: FreeType-based text rendering with dynamic updates, font loading, and orthographic projection.","slug":"/examples/render-text-demo","sidebar_label":"Text Rendering","tags":["examples","text","rendering","freetype"],"keywords":["helios","text rendering","FreeType","font","glyph","OpenGL"]},"sidebar":"tutorialSidebar","previous":{"title":"Collision Detection","permalink":"/docs/examples/collision-detection"},"next":{"title":"Testing","permalink":"/docs/testing"}}');var i=t(74848),a=t(28453);const o={title:"Text Rendering Demo",description:"Example: FreeType-based text rendering with dynamic updates, font loading, and orthographic projection.",slug:"/examples/render-text-demo",sidebar_label:"Text Rendering",tags:["examples","text","rendering","freetype"],keywords:["helios","text rendering","FreeType","font","glyph","OpenGL"]},s="Text Rendering Demo",d={},l=[{value:"What You&#39;ll Learn",id:"what-youll-learn",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Project Structure",id:"project-structure",level:2},{value:"Step-by-Step Tutorial",id:"step-by-step-tutorial",level:2},{value:"1. Application and Window Setup",id:"1-application-and-window-setup",level:3},{value:"2. UI Scene and Orthographic Camera",id:"2-ui-scene-and-orthographic-camera",level:3},{value:"3. Text Shader Setup",id:"3-text-shader-setup",level:3},{value:"4. Font Loading",id:"4-font-loading",level:3},{value:"5. Text Prototype and Renderable",id:"5-text-prototype-and-renderable",level:3},{value:"6. Render Loop",id:"6-render-loop",level:3},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Text Rendering Pipeline",id:"text-rendering-pipeline",level:3},{value:"Coordinate System",id:"coordinate-system",level:3},{value:"Controls",id:"controls",level:2},{value:"Running the Example",id:"running-the-example",level:2},{value:"Expected Output",id:"expected-output",level:2},{value:"See Also",id:"see-also",level:2}];function c(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"text-rendering-demo",children:"Text Rendering Demo"})}),"\n",(0,i.jsx)(n.p,{children:"This example demonstrates how to render dynamic text using the helios text rendering system. It showcases FreeType-based glyph rendering with OpenGL, including font loading, text positioning, and real-time text updates."}),"\n",(0,i.jsx)(n.h2,{id:"what-youll-learn",children:"What You'll Learn"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Setting up the text rendering pipeline"}),"\n",(0,i.jsxs)(n.li,{children:["Loading fonts via ",(0,i.jsx)(n.code,{children:"FontResourceProvider"})]}),"\n",(0,i.jsxs)(n.li,{children:["Creating ",(0,i.jsx)(n.code,{children:"TextRenderPrototype"})," for shared shader configuration"]}),"\n",(0,i.jsxs)(n.li,{children:["Using ",(0,i.jsx)(n.code,{children:"TextRenderable"})," for dynamic text display"]}),"\n",(0,i.jsx)(n.li,{children:"Integrating text into the scene graph"}),"\n",(0,i.jsx)(n.li,{children:"Configuring orthographic projection for 2D UI text"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"helios framework properly built and installed"}),"\n",(0,i.jsx)(n.li,{children:"Basic understanding of C++ and OpenGL"}),"\n",(0,i.jsx)(n.li,{children:"FreeType library (automatically included via helios)"}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"project-structure",children:"Project Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"render_text_demo/\n\u251c\u2500\u2500 main.cpp                           # Main application code\n\u251c\u2500\u2500 resources/\n\u2502   \u251c\u2500\u2500 font_shader.vert              # Vertex shader for text\n\u2502   \u251c\u2500\u2500 font_shader.frag              # Fragment shader for text\n\u2502   \u251c\u2500\u2500 Roboto-SemiBoldItalic.ttf     # Font file\n\u2502   \u251c\u2500\u2500 OFL.txt                       # Font license\n\u2502   \u2514\u2500\u2500 README.txt                    # Font attribution\n\u2514\u2500\u2500 README.md                         # This file\n"})}),"\n",(0,i.jsx)(n.h2,{id:"step-by-step-tutorial",children:"Step-by-Step Tutorial"}),"\n",(0,i.jsx)(n.h3,{id:"1-application-and-window-setup",children:"1. Application and Window Setup"}),"\n",(0,i.jsx)(n.p,{children:"Create an OpenGL application with a configured viewport:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'constexpr int SCREEN_WIDTH = 1920;\nconstexpr int SCREEN_HEIGHT = 1080;\n\nconst auto app = helios::ext::glfw::app::GLFWFactory::makeOpenGLApp(\n    "helios - Text Rendering Demo",\n    SCREEN_WIDTH, SCREEN_HEIGHT,\n    16.0f, 9.0f  // Aspect ratio\n);\n\nauto* win = dynamic_cast<helios::ext::glfw::window::GLFWWindow*>(app->current());\n\nauto mainViewport = std::make_shared<helios::rendering::Viewport>(0.0f, 0.0f, 1.0f, 1.0f);\nmainViewport->setClearFlags(std::to_underlying(helios::rendering::ClearFlags::Color))\n            .setClearColor(helios::math::vec4f(0.051f, 0.051f, 0.153f, 1.0f));\nwin->addViewport(mainViewport);\n'})}),"\n",(0,i.jsx)(n.h3,{id:"2-ui-scene-and-orthographic-camera",children:"2. UI Scene and Orthographic Camera"}),"\n",(0,i.jsx)(n.p,{children:"Text rendering uses a dedicated scene with orthographic projection:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:"// Create UI scene with no culling (all text is always visible).\nauto uiScene = std::make_unique<helios::scene::Scene>(\n    std::make_unique<helios::scene::CullNoneStrategy>()\n);\n\n// Create UI viewport.\nauto uiViewport = std::make_shared<helios::rendering::Viewport>(0.0f, 0.0f, 1.0f, 1.0f);\nwin->addViewport(uiViewport);\n\n// Configure orthographic camera.\n// Origin (0,0) is at the bottom-left corner of the screen.\nauto uiCamera = std::make_unique<helios::scene::Camera>();\nauto uiCameraSceneNode = std::make_unique<helios::scene::CameraSceneNode>(std::move(uiCamera));\nauto* uiCameraSceneNode_ptr = uiCameraSceneNode.get();\n\nuiViewport->setCameraSceneNode(uiCameraSceneNode_ptr);\nuiCameraSceneNode_ptr->camera().setOrtho(0, SCREEN_WIDTH, 0, SCREEN_HEIGHT);\nuiCameraSceneNode_ptr->setTranslation(helios::math::vec3f(0.0f, 0.0f, -100.0f));\nuiCameraSceneNode_ptr->lookAtLocal(\n    helios::math::vec3f(0.0f, 0.0f, 0.0f),\n    helios::math::vec3f(0.0f, 1.0f, 0.0f)\n);\n\nstd::ignore = uiScene->addNode(std::move(uiCameraSceneNode));\n"})}),"\n",(0,i.jsx)(n.h3,{id:"3-text-shader-setup",children:"3. Text Shader Setup"}),"\n",(0,i.jsx)(n.p,{children:"The text shader requires specific uniform locations:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'auto glyphUniformLocationMap = std::make_unique<\n    helios::ext::opengl::rendering::shader::OpenGLUniformLocationMap\n>();\nglyphUniformLocationMap->set(helios::rendering::shader::UniformSemantics::ProjectionMatrix, 1);\nglyphUniformLocationMap->set(helios::rendering::shader::UniformSemantics::TextTexture, 3);\nglyphUniformLocationMap->set(helios::rendering::shader::UniformSemantics::TextColor, 4);\nglyphUniformLocationMap->set(helios::rendering::shader::UniformSemantics::ModelMatrix, 8);\nglyphUniformLocationMap->set(helios::rendering::shader::UniformSemantics::ViewMatrix, 9);\n\nauto glyphShader = std::make_shared<helios::ext::opengl::rendering::shader::OpenGLShader>(\n    "resources/font_shader.vert",\n    "resources/font_shader.frag",\n    helios::util::io::BasicStringFileReader()\n);\nglyphShader->setUniformLocationMap(std::move(glyphUniformLocationMap));\n'})}),"\n",(0,i.jsx)(n.h3,{id:"4-font-loading",children:"4. Font Loading"}),"\n",(0,i.jsx)(n.p,{children:"Load fonts via the rendering device's font resource provider:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'auto fontId = helios::engine::core::data::FontId{"roboto"};\nauto& fontResourceProvider = app->renderingDevice().fontResourceProvider();\nfontResourceProvider.loadFont(fontId, "resources/Roboto-SemiBoldItalic.ttf");\n'})}),"\n",(0,i.jsx)(n.h3,{id:"5-text-prototype-and-renderable",children:"5. Text Prototype and Renderable"}),"\n",(0,i.jsx)(n.p,{children:"Create a reusable prototype and text instance:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'// Shared prototype with shader and font configuration.\nauto uiTextPrototype = std::make_shared<helios::rendering::text::TextRenderPrototype>(\n    glyphShader,\n    std::make_shared<helios::rendering::text::TextShaderProperties>(),\n    &fontResourceProvider\n);\n\n// Create a TextRenderable for dynamic text display.\nauto textRenderable = std::make_shared<helios::rendering::text::TextRenderable>(\n    std::make_unique<helios::rendering::text::TextMesh>("Hello World!", fontId),\n    uiTextPrototype\n);\n\n// Add to the scene graph.\nauto textSceneNode = std::make_unique<helios::scene::SceneNode>(textRenderable);\nauto* textNode = uiScene->addNode(std::move(textSceneNode));\ntextNode->setScale({1.0f, 1.0f, 1.0f});\ntextNode->setTranslation({100.0f, 100.0f, 0.0f});\n'})}),"\n",(0,i.jsx)(n.h3,{id:"6-render-loop",children:"6. Render Loop"}),"\n",(0,i.jsx)(n.p,{children:"Update and render text each frame:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-cpp",children:'float deltaTime = 0.0f;\n\nwhile (!win->shouldClose()) {\n    framePacer.beginFrame();\n\n    app->eventManager().dispatchAll();\n    inputManager.poll(0.0f);\n\n    if (inputManager.isKeyPressed(helios::input::types::Key::ESC)) {\n        win->setShouldClose(true);\n    }\n\n    // Update text content dynamically.\n    textRenderable->setText(std::format("Frame Time: {:.4f} ms", deltaTime * 1000.0f));\n\n    // Render the UI scene.\n    const auto& uiSnapshot = uiScene->createSnapshot(*uiViewport);\n    if (uiSnapshot.has_value()) {\n        auto uiRenderPass = helios::rendering::RenderPassFactory::getInstance()\n            .buildRenderPass(*uiSnapshot);\n        app->renderingDevice().render(uiRenderPass);\n    }\n\n    win->swapBuffers();\n\n    frameStats = framePacer.sync();\n    deltaTime = frameStats.totalFrameTime;\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,i.jsx)(n.h3,{id:"text-rendering-pipeline",children:"Text Rendering Pipeline"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"TextRenderable (high-level, scene graph)\n       \u2502\n       \u25bc\nTextRenderCommand (low-level, per-frame)\n       \u2502\n       \u25bc\nRenderQueue\n       \u2502\n       \u25bc\nOpenGLGlyphTextRenderer (FreeType + OpenGL)\n"})}),"\n",(0,i.jsx)(n.h3,{id:"coordinate-system",children:"Coordinate System"}),"\n",(0,i.jsx)(n.p,{children:"Text uses screen-space coordinates with orthographic projection:"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{children:"(0, 1080) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 (1920, 1080)\n    \u2502                              \u2502\n    \u2502      Text appears here       \u2502\n    \u2502      at (100, 100)           \u2502\n    \u2502           \u25cf                  \u2502\n    \u2502                              \u2502\n(0, 0) \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500 (1920, 0)\n"})}),"\n",(0,i.jsx)(n.h2,{id:"controls",children:"Controls"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"ESC"})," - Exit application"]}),"\n"]}),"\n",(0,i.jsx)(n.h2,{id:"running-the-example",children:"Running the Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"cd build/bin\n./render_text_demo\n"})}),"\n",(0,i.jsx)(n.h2,{id:"expected-output",children:"Expected Output"}),"\n",(0,i.jsx)(n.p,{children:'A window displaying "Frame Time: X.XXXX ms" where X updates each frame, rendered in white text on a dark blue background.'}),"\n",(0,i.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/examples/simple-cube",children:"Simple Cube Rendering"})," - Basic 3D rendering"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/examples/spaceship-control",children:"Spaceship Control"})," - Complete game loop example"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.a,{href:"/docs/examples/spaceship-shooting",children:"Spaceship Shooting"})," - Advanced gameplay mechanics"]}),"\n"]})]})}function p(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}}}]);