"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[80643],{28453:(e,n,r)=>{r.d(n,{R:()=>i,x:()=>l});var s=r(96540);const o={},t=s.createContext(o);function i(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(t.Provider,{value:n},e.children)}},51208:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"examples/scoring-demo","title":"Scoring Demo","description":"Example: Score pools, score observers, UI text rendering, and kill attribution with health/damage mechanics.","source":"@site/docs/examples/scoring-demo.md","sourceDirName":"examples","slug":"/examples/scoring-demo","permalink":"/docs/examples/scoring-demo","draft":false,"unlisted":false,"editUrl":"https://github.com/thorstensuckow/helios/tree/main/website/docs/examples/scoring-demo.md","tags":[{"inline":true,"label":"examples","permalink":"/docs/tags/examples"},{"inline":true,"label":"scoring","permalink":"/docs/tags/scoring"},{"inline":true,"label":"ui","permalink":"/docs/tags/ui"},{"inline":true,"label":"gameplay","permalink":"/docs/tags/gameplay"}],"version":"current","frontMatter":{"title":"Scoring Demo","description":"Example: Score pools, score observers, UI text rendering, and kill attribution with health/damage mechanics.","slug":"/examples/scoring-demo","sidebar_label":"Scoring Demo","tags":["examples","scoring","ui","gameplay"],"keywords":["helios","scoring","score pool","UI","text rendering","health","damage"]},"sidebar":"tutorialSidebar","previous":{"title":"Text Rendering","permalink":"/docs/examples/render-text-demo"},"next":{"title":"Testing","permalink":"/docs/testing"}}');var o=r(74848),t=r(28453);const i={title:"Scoring Demo",description:"Example: Score pools, score observers, UI text rendering, and kill attribution with health/damage mechanics.",slug:"/examples/scoring-demo",sidebar_label:"Scoring Demo",tags:["examples","scoring","ui","gameplay"],keywords:["helios","scoring","score pool","UI","text rendering","health","damage"]},l="Scoring Demo",c={},d=[{value:"Features",id:"features",level:2},{value:"Building",id:"building",level:2},{value:"Running",id:"running",level:2},{value:"Controls",id:"controls",level:2},{value:"Architecture",id:"architecture",level:2},{value:"Scoring System Overview",id:"scoring-system-overview",level:3},{value:"Code Structure",id:"code-structure",level:2},{value:"Key Components",id:"key-components",level:3},{value:"Key Systems",id:"key-systems",level:3},{value:"Score Pool Setup",id:"score-pool-setup",level:2},{value:"Player Configuration",id:"player-configuration",level:2},{value:"Enemy Configuration",id:"enemy-configuration",level:2},{value:"Score UI Setup",id:"score-ui-setup",level:2},{value:"GameLoop Configuration",id:"gameloop-configuration",level:2},{value:"Score Types",id:"score-types",level:2},{value:"See Also",id:"see-also",level:2}];function a(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"scoring-demo",children:"Scoring Demo"})}),"\n",(0,o.jsxs)(n.p,{children:["This example demonstrates the ",(0,o.jsx)(n.strong,{children:"scoring system"})," in helios, including score pools, score observers, UI text rendering, and integration with the combat/health mechanics."]}),"\n",(0,o.jsx)(n.h2,{id:"features",children:"Features"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Score Pool Management"})," - Centralized score tracking with ",(0,o.jsx)(n.code,{children:"ScorePoolManager"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Score Attribution"})," - Kill scoring via ",(0,o.jsx)(n.code,{children:"LastAttackerComponent"})," and ",(0,o.jsx)(n.code,{children:"ScorePoolComponent"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"UI Text Rendering"})," - Dynamic score display with ",(0,o.jsx)(n.code,{children:"OpenGLGlyphTextRenderer"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Score Observers"})," - Data binding between score pools and UI components"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Health & Damage System"})," - Enemy health tracking with ",(0,o.jsx)(n.code,{children:"HealthComponent"})]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Complete Twin-Stick Gameplay"})," - Player movement, aiming, and shooting"]}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"building",children:"Building"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"cmake -S . -B build\ncmake --build build --target scoring_demo\n"})}),"\n",(0,o.jsx)(n.h2,{id:"running",children:"Running"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"./build/bin/scoring_demo\n"})}),"\n",(0,o.jsx)(n.h2,{id:"controls",children:"Controls"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Input"}),(0,o.jsx)(n.th,{children:"Action"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Left Stick"}),(0,o.jsx)(n.td,{children:"Move spaceship"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"Right Stick"}),(0,o.jsx)(n.td,{children:"Aim and fire projectiles"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:"ESC"}),(0,o.jsx)(n.td,{children:"Exit application"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"architecture",children:"Architecture"}),"\n",(0,o.jsx)(n.h3,{id:"scoring-system-overview",children:"Scoring System Overview"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                      SCORING ARCHITECTURE                           \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502                                                                     \u2502\n\u2502  ENEMY DEFEATED                                                     \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                \u2502\n\u2502  \u2502 HealthComponent \u2502 \u2192 health <= 0                                  \u2502\n\u2502  \u2502 ScoreValueComp. \u2502 \u2192 points = 100                                 \u2502\n\u2502  \u2502 LastAttackerCmp \u2502 \u2192 attacker = player                            \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                \u2502\n\u2502           \u2502                                                         \u2502\n\u2502           \u25bc                                                         \u2502\n\u2502  ATTACKER LOOKUP                                                    \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                \u2502\n\u2502  \u2502 Player Entity   \u2502                                                \u2502\n\u2502  \u2502 ScorePoolComp.  \u2502 \u2192 poolId = "playerOneScorePool"                \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                \u2502\n\u2502           \u2502                                                         \u2502\n\u2502           \u25bc                                                         \u2502\n\u2502  SCORE POOL UPDATE                                                  \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                \u2502\n\u2502  \u2502 ScorePoolManager\u2502 \u2192 addScore(poolId, 100)                        \u2502\n\u2502  \u2502 ScorePool       \u2502 \u2192 totalScore += 100, revision++                \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                \u2502\n\u2502           \u2502                                                         \u2502\n\u2502           \u25bc                                                         \u2502\n\u2502  UI UPDATE                                                          \u2502\n\u2502  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510                                                \u2502\n\u2502  \u2502ScoreObserverCmp \u2502 \u2192 detects revision change                      \u2502\n\u2502  \u2502TextMeshComponent\u2502 \u2192 updates displayed text                       \u2502\n\u2502  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518                                                \u2502\n\u2502                                                                     \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n'})}),"\n",(0,o.jsx)(n.h2,{id:"code-structure",children:"Code Structure"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"File"}),(0,o.jsx)(n.th,{children:"Purpose"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"main.cpp"})}),(0,o.jsx)(n.td,{children:"Application entry point with scoring setup"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"CollisionId.ixx"})}),(0,o.jsx)(n.td,{children:"Collision layer identifiers"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"_module.ixx"})}),(0,o.jsx)(n.td,{children:"Module aggregation"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"key-components",children:"Key Components"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"Component"}),(0,o.jsx)(n.th,{children:"Purpose"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"ScorePoolComponent"})}),(0,o.jsx)(n.td,{children:"Associates player with a score pool"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"ScoreValueComponent"})}),(0,o.jsx)(n.td,{children:"Points awarded when entity is defeated"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"ScoreObserverComponent"})}),(0,o.jsx)(n.td,{children:"Observes a score pool for UI updates"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"LastAttackerComponent"})}),(0,o.jsx)(n.td,{children:"Tracks who dealt the killing blow"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"HealthComponent"})}),(0,o.jsx)(n.td,{children:"Entity health and damage tracking"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"TextMeshComponent"})}),(0,o.jsx)(n.td,{children:"Renders dynamic text"})]})]})]}),"\n",(0,o.jsx)(n.h3,{id:"key-systems",children:"Key Systems"}),"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",(0,o.jsxs)(n.table,{children:[(0,o.jsx)(n.thead,{children:(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.th,{children:"System"}),(0,o.jsx)(n.th,{children:"Purpose"})]})}),(0,o.jsxs)(n.tbody,{children:[(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"HealthDepletedSystem"})}),(0,o.jsx)(n.td,{children:"Detects entity death, triggers score award"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"ScoreObserverSystem"})}),(0,o.jsx)(n.td,{children:"Updates observers when pools change"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"TextMeshUpdateSystem"})}),(0,o.jsx)(n.td,{children:"Updates text mesh from bound data"})]}),(0,o.jsxs)(n.tr,{children:[(0,o.jsx)(n.td,{children:(0,o.jsx)(n.code,{children:"DamageApplicationSystem"})}),(0,o.jsx)(n.td,{children:"Applies collision damage"})]})]})]}),"\n",(0,o.jsx)(n.h2,{id:"score-pool-setup",children:"Score Pool Setup"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'// Create score pool manager\nauto& scorePoolManager = gameWorld.addManager<ScorePoolManager>();\n\n// Create a score pool for player one\nscorePoolManager.addScorePool(ScorePoolId{"playerOneScorePool"});\n\n// Register score command handler\ngameWorld.registerScoreCommandHandler(scorePoolManager);\n'})}),"\n",(0,o.jsx)(n.h2,{id:"player-configuration",children:"Player Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'// Associate player with score pool\nauto player = GameObjectFactory::gameObject(gameWorld)\n    .withScoring([](auto& scoring) {\n        scoring.scorePool()\n               .poolId(ScorePoolId{"playerOneScorePool"});\n    })\n    .withCombat([](auto& combat) {\n        combat.attacker();  // Enables LastAttackerComponent tracking\n    })\n    .make(true);\n'})}),"\n",(0,o.jsx)(n.h2,{id:"enemy-configuration",children:"Enemy Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:"// Configure enemy with score value\nauto enemy = GameObjectFactory::gameObject(gameWorld)\n    .withHealth([](auto& health) {\n        health.health()\n              .maxHealth(100.0f);\n    })\n    .withScoring([](auto& scoring) {\n        scoring.scoreValue<EnemyScore>()\n               .points(100);\n    })\n    .withCombat([](auto& combat) {\n        combat.trackLastAttacker();  // Track who kills this enemy\n    })\n    .make(true);\n"})}),"\n",(0,o.jsx)(n.h2,{id:"score-ui-setup",children:"Score UI Setup"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'// Create score text display\nauto scoreText = GameObjectFactory::gameObject(gameWorld)\n    .withRendering([&](auto& r) {\n        r.textRenderable()\n         .font(fontId)\n         .text("Score: 0")\n         .build();\n    })\n    .withUiTransform([&](auto& ui) {\n        ui.transform()\n          .anchor(Anchor::TopLeft)\n          .offsets({10.0f, 10.0f, 0.0f, 0.0f})\n          .viewportId(mainViewportId);\n    })\n    .withObserver([](auto& obs) {\n        obs.scoreObserver()\n           .poolId(ScorePoolId{"playerOneScorePool"})\n           .formatter([](double score) {\n               return std::format("Score: {}", static_cast<int>(score));\n           });\n    })\n    .make(true);\n'})}),"\n",(0,o.jsx)(n.h2,{id:"gameloop-configuration",children:"GameLoop Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:"// Main Phase: Combat and Scoring\ngameLoop.phase(PhaseType::Main)\n    .addPass()\n    .addSystem<DamageApplicationSystem>()\n    .addSystem<HealthDepletedSystem>()\n    .addCommitPoint()\n    .addPass()\n    .addSystem<ScoreObserverSystem>(&scorePoolManager);\n\n// Post Phase: UI Updates\ngameLoop.phase(PhaseType::Post)\n    .addPass()\n    .addSystem<TextMeshUpdateSystem>()\n    .addSystem<UiTransformSystem>();\n"})}),"\n",(0,o.jsx)(n.h2,{id:"score-types",children:"Score Types"}),"\n",(0,o.jsx)(n.p,{children:"Define custom score types for different point values:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-cpp",children:'// Custom score type\nstruct EnemyScore : public Score {\n    int points = 100;\n    \n    ScoreTypeId typeId() const override {\n        return ScoreTypeId{"enemy"};\n    }\n    \n    double value() const override {\n        return static_cast<double>(points);\n    }\n};\n\n// Use with ScoreValueComponent\nentity.add<ScoreValueComponent<EnemyScore>>(100);\n'})}),"\n",(0,o.jsx)(n.h2,{id:"see-also",children:"See Also"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/docs/core-concepts/text-rendering",children:"Text Rendering"})," - FreeType-based text rendering"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/docs/core-concepts/component-lifecycle",children:"Component Lifecycle"})," - Lifecycle hooks (onAcquire, onRelease)"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/docs/core-concepts/object-pooling",children:"Object Pooling"})," - Entity pooling system"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/docs/examples/collision-detection",children:"Collision Detection Example"})," - Grid-based collision with damage"]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.a,{href:"/docs/examples/enemy-spawn",children:"Enemy Spawn Example"})," - Spawn system with pooling"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(a,{...e})}):a(e)}}}]);